(this["webpackJsonpb64-url-editor"]=this["webpackJsonpb64-url-editor"]||[]).push([[0],{108:function(e,t,n){e.exports=n(184)},113:function(e,t,n){},122:function(e,t,n){},184:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(13),c=n.n(o),l=(n(113),n(75)),s=n(41),i=n(189),u=n(76),m=n(185),f=n(42),p=n(19),d=n(186),v=n(188),y=n(195),h=n(196),E=n(197),g=n(198),j=n(93),b=n.n(j),O=n(94),w=n.n(O);n(122);var C=function(){var e=d.a.TextArea,t=v.a.Option,n=Object(a.useState)(""),o=Object(s.a)(n,2),c=o[0],j=o[1],O=Object(a.useState)([]),C=Object(s.a)(O,2),k=C[0],S=C[1],I=Object(a.useState)({}),A=Object(s.a)(I,2),J=A[0],R=A[1],U=w()(),B=Object(s.a)(U,2),N=B[0],W=(B[1],Object(a.useState)(!0)),x=Object(s.a)(W,2),z=x[0],Z=x[1],$=function(e){return btoa(unescape(encodeURIComponent(e)))},P=function(e){return decodeURIComponent(escape(atob(e)))},T=function(e){return e.startsWith("vmess://")?"vmess":e.startsWith("trojan://")?"trojan":e.startsWith("ss://")?"ss":"unsupported"},q=function(e){if("vmess"===T(e))return JSON.parse(P(e.replace("vmess://","")));if("ss"===T(e)){var t=e.search("#");return P(e.slice(5,t))}return e},D=function(e){if("vmess"===T(e))return q(e).ps;if("trojan"===T(e)){var t=e.search("#");return decodeURIComponent(e.slice(t+1))}if("ss"===T(e)){var n=e.search("#");return decodeURIComponent(e.slice(n+1))}},F=function(e){if(e.length&&function(e){return/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/.test(e)}(e)){var t=P(e).split("\n"),n=[],a=!0,r=!1,o=void 0;try{for(var c,l=t[Symbol.iterator]();!(a=(c=l.next()).done);a=!0){var s=c.value,i={type:T(s),name:D(s),json:q(s),id:b.a.generate()};n.push(i)}}catch(u){r=!0,o=u}finally{try{a||null==l.return||l.return()}finally{if(r)throw o}}return S(n),console.log(n),n}},G=r.a.createElement(i.a,{placement:"bottom",title:"\u4fee\u6539",arrowPointAtCenter:!0},r.a.createElement(u.a,{type:"link",icon:r.a.createElement(y.a,null),size:"small",onClick:function(){S(k.map((function(e){return e.id===J.id?Object(l.a)({},e,{name:J.name}):e})))}}));return r.a.createElement("div",{className:"App"},r.a.createElement(f.a,{gutter:16,justify:"space-around"},r.a.createElement(p.a,{span:12},r.a.createElement(m.a,null,r.a.createElement(f.a,{justify:"center",style:{marginBottom:16}},r.a.createElement(v.a,{loading:z||!c.length,style:{width:"60%"},onChange:function(e){R(k[k.findIndex((function(t){return t.id===e}))])}},k.map((function(e){return r.a.createElement(t,{key:e.id},r.a.createElement("b",null,"[",e.type,"]")," ",e.name)})))),r.a.createElement(f.a,{justify:"center",style:{marginBottom:16}},r.a.createElement(d.a,{addonAfter:G,value:J.name,onChange:function(e){R(Object(l.a)({},J,{name:e.target.value}))},style:{width:"60%"}})),r.a.createElement(f.a,{gutter:24,justify:"center"},r.a.createElement(p.a,null,r.a.createElement(u.a,{type:"primary",icon:r.a.createElement(h.a,null)},"\u5fa9\u539f")),r.a.createElement(p.a,null,r.a.createElement(u.a,{type:"primary",icon:r.a.createElement(E.a,null),onClick:function(){var e=function(e){console.log(e);for(var t="",n=0;n<e.length;++n){var a=e[n];if("vmess"===a.type){var r=JSON.parse(JSON.stringify(a.json));r.ps=a.name,t+="vmess://"+$(JSON.stringify(r))}else if("trojan"===a.type){var o=a.json.search("#");t+=a.json.slice(0,o)+"#"+encodeURIComponent(a.name)}else{if("ss"!==a.type)continue;var c=a.json.search("#");t+="ss://"+a.json.slice(0,c)+"#"+encodeURIComponent(a.name)}n+1<e.length&&(t+="\n")}return console.log($(t)),$(t)}(k);j(e)}},"\u4fdd\u5b58")),r.a.createElement(p.a,null,r.a.createElement(u.a,{type:"primary",icon:r.a.createElement(g.a,null)},"\u532f\u51fa"))))),r.a.createElement(p.a,{span:12},r.a.createElement(m.a,null,r.a.createElement(e,{rows:4,onChange:function(e){j(e.target.value),F(e.target.value)&&Z(!1)},value:c,style:{marginBottom:16}}),r.a.createElement(u.a,{type:"primary",block:!0,onClick:function(){var e=N;j(e),F(e)&&Z(!1)}},"\u5f9e\u526a\u8cbc\u7248\u5c0e\u5165")))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(C,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[108,1,2]]]);
//# sourceMappingURL=main.d80231d3.chunk.js.map