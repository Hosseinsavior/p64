(this["webpackJsonpb64-url-editor"]=this["webpackJsonpb64-url-editor"]||[]).push([[0],{131:function(e,t,a){e.exports=a(223)},136:function(e,t,a){},161:function(e,t,a){},223:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(7),s=a.n(o),c=(a(136),a(49)),l=a(13),i=a(28),u=a(228),m=a(230),d=a(36),p=a(232),h=a(225),j=a(233),f=a(50),v=a(24),g=a(226),y=a(227),E=a(229),b=a(231),w=a(243),O=a(237),k=a(241),C=a(242),x=a(109),S=a.n(x),P=a(110),A=a.n(P),I=a(111),T=a.n(I),B=(a(161),"https://res.cloudinary.com/phlincloud/image/upload/v1583267224/b64-url-editor"),L={v2ray:B+"/v2ray_logo_ygiuj5.png",trojan:B+"/trojan-gfw_logo_z3oa6y.png",ss:B+"/ss_logo_nzt66p.png"};var U=function(){var e,t=u.a.TextArea,a=m.a.Option,o=j.a.Content,s=j.a.Footer,x=y.a.confirm,P=u.a.Group,I=Object(n.useState)(""),B=Object(i.a)(I,2),U=B[0],z=B[1],N=Object(n.useState)(""),R=Object(i.a)(N,2),W=R[0],J=R[1],_=Object(n.useState)(""),D=Object(i.a)(_,2),K=D[0],Z=D[1],G=Object(n.useState)([]),X=Object(i.a)(G,2),$=X[0],F=X[1],H=Object(n.useState)(0),q=Object(i.a)(H,2),M=q[0],Q=q[1],V=A()(),Y=Object(i.a)(V,2),ee=Y[0],te=Y[1],ae=Object(n.useState)(!0),ne=Object(i.a)(ae,2),re=ne[0],oe=ne[1],se=["ss","vmess","trojan"],ce=Object(n.useState)("API"),le=Object(i.a)(ce,2),ie=le[0],ue=le[1],me=Object(n.useState)("detailedEdit"),de=Object(i.a)(me,2),pe=de[0],he=de[1],je=function(e){return btoa(unescape(encodeURIComponent(e)))},fe=function(e){return decodeURIComponent(escape(atob(e)))},ve=function(e){return e.startsWith("vmess://")?"vmess":e.startsWith("trojan://")?"trojan":e.startsWith("ss://")?"ss":"unsupported"},ge=function(e){if("vmess"===ve(e))return JSON.parse(fe(e.replace("vmess://","")));if("ss"===ve(e)){var t=e.search("#");return fe(e.slice(5,t))}return e},ye=function(e){if("vmess"===ve(e))return ge(e).ps;if("trojan"===ve(e)){var t=e.search("#");return decodeURIComponent(e.slice(t+1))}if("ss"===ve(e)){var a=e.search("#");return decodeURIComponent(e.slice(a+1))}},Ee=function(e){return/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/.test(e)},be=function(e){if(e.length&&Ee(e)){var t=fe(e).split("\n"),a=[],n=!0,r=!1,o=void 0;try{for(var s,c=t[Symbol.iterator]();!(n=(s=c.next()).done);n=!0){var l=s.value,i={type:ve(l),name:ye(l),json:ge(l),raw:l,id:S.a.generate()};a.push(i)}}catch(u){r=!0,o=u}finally{try{n||null==c.return||c.return()}finally{if(r)throw o}}return console.log("decodeB64",a),a}return e},we=function(e){for(var t="",a=0;a<e.length;++a){var n=e[a];if("vmess"===n.type){var r=JSON.parse(JSON.stringify(n.json));r.ps=n.name,t+="vmess://"+je(JSON.stringify(r))}else if("trojan"===n.type){var o=n.json.search("#");t+=n.json.slice(0,o)+"#"+encodeURIComponent(n.name)}else{if("ss"!==n.type)continue;var s=n.json.search("#");t+="ss://"+je(n.json.slice(0,s))+"#"+encodeURIComponent(n.name)}a+1<e.length&&(t+="\n")}return je(t)},Oe=function(e){try{if(Ee(e)){var t=be(e).filter((function(e){return""!==e.raw}));return t.length<be(e).length&&(z(we(t)),J(fe(we(t)))),t.filter((function(e){return se.includes(e.type)})).length>0?(F(t),oe(!1),t):e}}catch(a){console.log(a)}},ke={base64:function(e){if(z(e.target.value),Ee(e.target.value))try{J(fe(e.target.value)),Oe(e.target.value)}catch(t){console.error(t)}},text:function(e){if(J(e.target.value),""!==e.target.value){var t=je(e.target.value);z(t),console.log(t),Oe(t)!==t&&E.a.success("\u89e3\u6790\u6210\u529f")}},subscribe:function(e){var t=e.target.value;if(Z(t),function(e){var t=e.split("\n"),a=/^(vmess|ss|trojan).*/,n=!0,r=!1,o=void 0;try{for(var s,c=t[Symbol.iterator]();!(n=(s=c.next()).done);n=!0){var l=s.value;if(!a.test(l))return!1}}catch(i){r=!0,o=i}finally{try{n||null==c.return||c.return()}finally{if(r)throw o}}return!0}(t)){if(J(t),""===e.target.value)return;var a=je(t);z(a),console.log(a),Oe(a)!==a&&E.a.success("\u89e3\u6790\u6210\u529f")}else if(/(http|https).*/.test(t)){var n="fetching";E.a.loading({content:"\u5c0e\u5165\u8a02\u95b1\u93c8\u63a5\u4e2d",key:n}),T.a.get(e.target.value).then((function(e){return e.data})).then((function(e){return z(e),fe(e)})).then((function(e){return J(e),je(e)})).then((function(e){return Oe(e)})).then((function(e){E.a.success({content:"\u5c0e\u5165 "+e.length+"\u500b\u7bc0\u9ede \u6210\u529f",key:n,duration:2})})).catch((function(e){console.error(e),E.a.warning({content:"\u5c0e\u5165\u5931\u6557",key:n,duration:2})}))}}},Ce={base64:function(){if(z(ee),Ee(ee))try{J(fe(ee)),Oe(ee)}catch(e){console.error(e)}},text:function(){J(ee);var e=je(ee);z(e),Oe(e)}},xe=function(e){$.filter((function(t){return t.id!==e.id})).length?Q((M+1)%$.length):Q(0),F($.filter((function(t){return t.id!==e.id}))),E.a.success("\u522a\u9664 "+e.name+" \u6210\u529f")},Se=function(e){var t={vmess:r.a.createElement("img",{src:L.v2ray,alt:"",class:"logo-wrap"}),trojan:r.a.createElement("img",{src:L.trojan,alt:"",class:"logo-wrap"}),ss:r.a.createElement("img",{src:L.ss,alt:"",class:"logo-wrap"})};return t.hasOwnProperty(e)?t[e]:r.a.createElement(C.a,null)},Pe={name:function(e){var t=$[M].id;F($.map((function(a){return a.id===t?Object(l.a)({},a,{name:e.target.value}):a})))},net:function(e){var t=e.target.value;if($[M].json){var a=$[M].id;F("kcp"!==t?$.map((function(e){return e.id===a?Object(l.a)({},e,{json:Object(l.a)({},e.json,{net:t,type:"none"})}):e})):"ws"!==t?$.map((function(e){return e.id===a?Object(l.a)({},e,{json:Object(l.a)({},e.json,{net:t,host:"",path:""})}):e})):$.map((function(e){return e.id===a?Object(l.a)({},e,{json:Object(l.a)({},e.json,{net:t})}):e})))}},address:function(e){var t=$[M].id;F($.map((function(a){return a.id===t?Object(l.a)({},a,{json:Object(l.a)({},a.json,{add:e.target.value})}):a})))},port:function(e){var t=$[M].id;F($.map((function(a){return a.id===t?Object(l.a)({},a,{json:Object(l.a)({},a.json,{port:e.target.value})}):a})))},uuid:function(e){var t=$[M].id;F($.map((function(a){return a.id===t?Object(l.a)({},a,{json:Object(l.a)({},a.json,{id:e.target.value})}):a})))},aid:function(e){var t=$[M].id;F($.map((function(a){return a.id===t?Object(l.a)({},a,{json:Object(l.a)({},a.json,{aid:e.target.value})}):a})))},tls:function(e,t){var a=$[M].id;F($.map((function(t){return t.id===a?Object(l.a)({},t,{json:Object(l.a)({},t.json,{tls:e?"tls":"none"})}):t})))},ws:{host:function(e){var t=$[M].id;"ws"===$[M].json.net&&F($.map((function(a){return a.id===t?Object(l.a)({},a,{json:Object(l.a)({},a.json,{host:e.target.value})}):a})))},path:function(e){var t=$[M].id;"ws"===$[M].json.net&&F($.map((function(a){return a.id===t?Object(l.a)({},a,{json:Object(l.a)({},a.json,{path:e.target.value})}):a})))}},type:function(e){var t=$[M].id;"kcp"===$[M].json.net&&F($.map((function(a){return a.id===t?Object(l.a)({},a,{json:Object(l.a)({},a.json,{type:e})}):a})))}},Ae={API:r.a.createElement(f.a,{gutter:[0,16]},r.a.createElement(v.a,{span:24},r.a.createElement(t,{rows:4,autosize:!1,placeholder:"\u8f38\u5165\u8a02\u95b1\u7db2\u5740",onChange:ke.subscribe,value:K})),r.a.createElement(v.a,{span:24,style:{marginBottom:-21}},r.a.createElement(d.a,{type:"primary",block:!0,onClick:Ce.subscribe},"\u5f9e\u526a\u8cbc\u7248\u5c0e\u5165"))),TEXT:r.a.createElement(f.a,{gutter:[0,16]},r.a.createElement(v.a,{span:24},r.a.createElement(t,{rows:4,autosize:!1,onChange:ke.text,value:W})),r.a.createElement(v.a,{span:24,style:{marginBottom:-21}},r.a.createElement(d.a,{type:"primary",block:!0,onClick:Ce.text},"\u5f9e\u526a\u8cbc\u7248\u5c0e\u5165"))),BASE64:r.a.createElement(f.a,{gutter:[0,16]},r.a.createElement(v.a,{span:24},r.a.createElement(t,{rows:4,autosize:!1,onChange:ke.base64,value:U})),r.a.createElement(v.a,{span:24,style:{marginBottom:-21}},r.a.createElement(d.a,{type:"primary",block:!0,onClick:Ce.base64},"\u5f9e\u526a\u8cbc\u7248\u5c0e\u5165")))},Ie={select:r.a.createElement(m.a,{showSearch:!0,value:$[M]?[$[M].name,$[M].id]:"",disabled:re||!U.length,style:{width:"100%"},onChange:function(e){Q($.findIndex((function(t){return t.id===e[1]})))},filterOption:function(e,t){return t.children[2].toLowerCase().indexOf(e.toLowerCase())>=0}},$.map((function(e){return r.a.createElement(a,{key:e.id,value:[e.name,e.id]},Se(e.type)," ",e.name)}))),remark:r.a.createElement(u.a,{placeholder:"\u7bc0\u9ede\u540d\u7a31(Remark)",addonAfter:$[M]?Se($[M].type):r.a.createElement(C.a,null),value:$[M]?$[M].name:"",disabled:re||!U.length,onChange:Pe.name,onPressEnter:Pe.name}),deleteIcon:r.a.createElement(d.a,{type:"primary",disabled:re||!U.length,icon:r.a.createElement(w.a,null),onClick:function(){x({title:"\u78ba\u5b9a\u8981\u522a\u9664"+$[M].name+"?",icon:r.a.createElement(k.a,null),content:"\u9019\u9805\u64cd\u4f5c\u7121\u6cd5\u5fa9\u539f",okText:"\u78ba\u5b9a",cancelText:"\u53d6\u6d88",onOk:function(){xe($[M])},onCancel:function(){console.log($)}})},danger:!0})},Te={vmess:r.a.createElement(f.a,{gutter:[16,24]},r.a.createElement(v.a,{xs:24,sm:24,md:12}," ",Ie.select," "),r.a.createElement(v.a,{xs:20,sm:20,md:10}," ",Ie.remark," "),r.a.createElement(v.a,{xs:4,sm:4,md:2}," ",Ie.deleteIcon," "),r.a.createElement(v.a,{xs:24,sm:24,md:12},r.a.createElement(P,{compact:!0},r.a.createElement(u.a,{style:{width:"75%",textAlign:"left"},placeholder:"\u670d\u52d9\u5668\u5730\u5740(Address)",onChange:Pe.address,value:$[M]&&$[M].hasOwnProperty("json")?$[M].json.add:""}),r.a.createElement(u.a,(e={style:{width:"25%"},placeholder:"Port"},Object(c.a)(e,"placeholder","port"),Object(c.a)(e,"onChange",Pe.port),Object(c.a)(e,"value",$[M]&&$[M].hasOwnProperty("json")?$[M].json.port:""),e)))),r.a.createElement(v.a,{xs:24,sm:24,md:12},r.a.createElement(P,{compact:!0},r.a.createElement(u.a,{style:{width:"75%"},placeholder:"UUID",onChange:Pe.uuid,value:$[M]&&$[M].hasOwnProperty("json")?$[M].json.id:""}),r.a.createElement(u.a,{style:{width:"25%"},placeholder:"AID",onChange:Pe.aid,value:$[M]&&$[M].hasOwnProperty("json")?$[M].json.aid:""}))),r.a.createElement(v.a,{xs:20,sm:20,md:10},r.a.createElement(p.a.Group,{style:{marginLeft:-24},onChange:Pe.net,value:$[M]&&$[M].json?$[M].json.net:""},r.a.createElement(p.a,{key:"tcp",value:"tcp"},"TCP"),r.a.createElement(p.a,{key:"ws",value:"ws"},"WS"),r.a.createElement(p.a,{key:"kcp",value:"kcp"},"KCP"))),r.a.createElement(v.a,{xs:4,sm:4,md:2},r.a.createElement(h.a,{style:{marginLeft:-24},checkedChildren:"TLS",unCheckedChildren:"TLS",onChange:Pe.tls,checked:!!$[M]&&(!!$[M].hasOwnProperty("json")&&"tls"===$[M].json.tls)})),r.a.createElement(v.a,{xs:$[M]&&$[M].hasOwnProperty("json")&&"ws"===$[M].json.net?24:0,sm:$[M]&&$[M].hasOwnProperty("json")&&"ws"===$[M].json.net?24:0,md:$[M]&&$[M].hasOwnProperty("json")&&"ws"===$[M].json.net?12:0},r.a.createElement(P,{compact:!0},r.a.createElement(u.a,{style:{width:"75%"},placeholder:"\u57df\u540d(Host)",onChange:Pe.ws.host,value:$[M]&&$[M].hasOwnProperty("json")?$[M].json.host:""}),r.a.createElement(u.a,{style:{width:"25%"},placeholder:"path",onChange:Pe.ws.path,value:$[M]&&$[M].hasOwnProperty("json")?$[M].json.path:""}))),r.a.createElement(v.a,{xs:$[M]&&$[M].hasOwnProperty("json")&&"kcp"===$[M].json.net?24:0,sm:$[M]&&$[M].hasOwnProperty("json")&&"kcp"===$[M].json.net?24:0,md:$[M]&&$[M].hasOwnProperty("json")&&"kcp"===$[M].json.net?12:0},r.a.createElement(m.a,{style:{width:"100%"},onChange:Pe.type,value:$[M]&&$[M].hasOwnProperty("json")?$[M].json.type:""},r.a.createElement(a,{key:"none",value:"none"},"none (\u4e0d\u507d\u88dd)"),r.a.createElement(a,{key:"wechat-video",value:"wechat-video"}," \b\bwechat-video (\u507d\u88dd\u5fae\u4fe1\u8996\u983b) "),r.a.createElement(a,{key:"srtp",value:"srtp"},"srtp (\u507d\u88dd\u8996\u983b\u901a\u8a71)"),r.a.createElement(a,{key:"utp",value:"utp"},"utp (\u507d\u88ddBitTorrent\u4e0b\u8f09) "),r.a.createElement(a,{key:"dtls",value:"dtls"},"dlts (\u507d\u88ddDLTS 1.2\u5c01\u5305)"),r.a.createElement(a,{key:"wireguard",value:"wireguard"},"wireguard (\u507d\u88ddWireguard\u5c01\u5305)"))))},Be={fastEdit:r.a.createElement(f.a,{gutter:[16,24],justify:"center"},r.a.createElement(v.a,{xs:16,sm:16,md:14,style:{height:60}}," ",Ie.select," "),r.a.createElement(v.a,{xs:4,sm:4,md:2}," ",Ie.deleteIcon," "),r.a.createElement(v.a,{xs:24,sm:24,md:16}," ",Ie.remark," ")),detailedEdit:$[M]?"vmess"===$[M].type?Te.vmess:"\u76ee\u524d\u50c5\u652f\u6301vmess\u5354\u8b70":r.a.createElement(b.a,null),buttons:r.a.createElement("div",null,r.a.createElement(d.a,{type:"primary",icon:r.a.createElement(O.a,null),disabled:re||!U.length,onClick:function(){var e=we($);z(e),te(e),E.a.success("New BASE64 copied")}},"\u751f\u6210"))};return r.a.createElement("div",{className:"App"},r.a.createElement(j.a,null,r.a.createElement(f.a,{justify:"start",align:"middle"},r.a.createElement(v.a,{xs:24,sm:24,md:6},r.a.createElement("h2",null,"Shawdowrockets \u8a02\u95b1\u93c8\u63a5\u7de8\u8f2f\u5668")),r.a.createElement(v.a,{xs:0,sm:0,md:6,style:{marginLeft:-32}},r.a.createElement("h3",null,"\u652f\u6301 ",se.map((function(e,t){return t<se.length-1?e+", ":e}))," \u93c8\u63a5\u7de8\u8f2f"))),r.a.createElement(o,null,r.a.createElement(f.a,{gutter:[16,16],justify:"space-between",type:"flex"},r.a.createElement(v.a,{xs:24,sm:24,md:12},r.a.createElement(g.a,{className:"card",tabList:[{key:"fastEdit",tab:"\u5feb\u901f\u64cd\u4f5c"},{key:"detailedEdit",tab:"\u8a73\u7d30\u7de8\u8f2f"}],tabBarExtraContent:Be.buttons,activeTabKey:pe,onTabChange:function(e){return he(e)}},Be[pe])),r.a.createElement(v.a,{xs:24,sm:24,md:12},r.a.createElement(g.a,{className:"card",tabList:[{key:"API",tab:"API"},{key:"TEXT",tab:"URL"},{key:"BASE64",tab:"BASE64"}],activeTabKey:ie,onTabChange:function(e){return ue(e)}},Ae[ie])))),r.a.createElement(s,{style:{position:"sticky",bottom:0}},r.a.createElement(f.a,null,r.a.createElement(v.a,{span:24},"Created by ",r.a.createElement("a",{href:"https:www.phlinhng.com"},"phlinhng"),". All rights reserved.")))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(U,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[131,1,2]]]);
//# sourceMappingURL=main.3da77069.chunk.js.map