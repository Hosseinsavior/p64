(this["webpackJsonpb64-url-editor"]=this["webpackJsonpb64-url-editor"]||[]).push([[0],{138:function(e,t,a){e.exports=a(234)},143:function(e,t,a){},168:function(e,t,a){},234:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(5),o=a.n(s),c=(a(143),a(135)),l=a(14),i=a(28),u=a(240),m=a(243),d=a(25),p=a(244),h=a(242),f=a(246),j=a(237),y=a(236),g=a(57),b=a(29),E=a(238),v=a(239),w=a(241),O=a(245),k=a(247),x=a(257),C=a(258),P=a(251),A=a(255),S=a(256),T=a(56),B=a.n(T),I=a(119),L=a.n(I),R=a(120),U=a.n(R),N=(a(168),"https://res.cloudinary.com/phlincloud/image/upload/v1583267224/b64-url-editor"),z={v2ray:N+"/v2ray_logo_ygiuj5.png",trojan:N+"/trojan-gfw_logo_z3oa6y.png",ss:N+"/ss_logo_nzt66p.png"},_=u.a.TextArea,J=m.a.Option,W=y.a.Content,D=y.a.Footer,K=v.a.confirm,M=u.a.Group,Z=["ss","vmess","trojan"],G=/^(vmess|ss|trojan).*/,X=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,$=[{key:"API",tab:"API"},{key:"TEXT",tab:"URL"},{key:"BASE64",tab:"BASE64"}],F=[{key:"fastEdit",tab:"\u5feb\u901f\u64cd\u4f5c"},{key:"detailedEdit",tab:"\u8a73\u7d30\u7de8\u8f2f"}],H=["none","table","rc4","rc4-md5","rc4-md5-6","salsa20","chacha20","chacha20-ietf","aes-256-cfb","aes-192-cfb","aes-128-cfb","aes-256-cfb1","aes-192-cfb1","aes-128-cfb1","aes-256-cfb8","aes-192-cfb8","aes-128-cfb8","aes-256-ctr","aes-192-ctr","aes-128-ctr","bf-cfb","camellia-256-cfb","camellia-192-cfb","camellia-128-cfb","cast5-cfb","des-cfb","idea-cfb","seed-cfb","aes-256-gcm","aes-192-gcm","aes-128-gcm","chacha20-ietf-poly1305","chacha20-poly1305","xchacha20-ietf-poly1305"],q={ss:{id:"",aid:"",add:"",port:"",ps:"new shadowsocks"},vmess:{add:"",port:"",id:"",aid:1,net:"tcp",host:"",path:"/",tls:"none",type:"none",ps:"new v2ray",v:2},trjan:{aid:"",add:"",port:"",ps:"new trojan"}},Q=function(e){return btoa(unescape(encodeURIComponent(e)))},V=function(e){return decodeURIComponent(escape(atob(e)))},Y=function(e){return G.test(e)?e.slice(0,e.search("://")):"unsupported"},ee={vmess:function(e){var t=JSON.parse(V(e.replace("vmess://","")));return{type:Y(e),json:t,raw:e,id:B.a.generate()}},ss:function(e){var t=e.search("#"),a=decodeURIComponent(e.slice(t+1)),n=V(e.slice(5,t)).split(/[@:]+/),r={id:n[0],aid:n[1],add:n[2],port:n[3],ps:a};return{type:Y(e),json:r,raw:e,id:B.a.generate()}},trojan:function(e){var t=e.search("#"),a=decodeURIComponent(e.slice(t+1)),n=e.slice(9,t-6).split(/[@:]+/),r={aid:n[0],add:n[1],port:n[2],ps:a};return{type:Y(e),json:r,raw:e,id:B.a.generate()}},unsupported:function(e){return{type:Y(e),json:{},raw:e,id:B.a.generate()}},isText:function(e){return e.split(/[;\n]+/).every((function(e){return G.test(e)}))}},te={vmess:function(e){return"vmess://"+Q(JSON.stringify(e))},ss:function(e){var t=e.id+":"+e.aid+"@"+e.add+":"+e.port;return"ss://"+Q(t)+"#"+encodeURIComponent(e.ps)},trojan:function(e){return"trojan://"+e.aid+"@"+e.add+":"+e.port+"?peer=#"+encodeURIComponent(e.ps)},unsupported:function(e){return e.raw}},ae=function(e){if(e.length&&X.test(e)){var t=V(e).split(/[;\n]+/).map((function(e){return ee[Y(e)](e)}));return console.log("urlArray.b64ToArr",t),t}return e},ne=function(e){return Q(e.map((function(e){return te[e.type](e.json)})).join("\n"))};var re=function(){var e=Object(n.useState)("API"),t=Object(i.a)(e,2),a=t[0],s=t[1],o=Object(n.useState)("fastEdit"),v=Object(i.a)(o,2),T=v[0],I=v[1],R=Object(n.useState)(""),N=Object(i.a)(R,2),G=N[0],Y=N[1],re=Object(n.useState)(""),se=Object(i.a)(re,2),oe=se[0],ce=se[1],le=Object(n.useState)(""),ie=Object(i.a)(le,2),ue=ie[0],me=ie[1],de=Object(n.useState)([]),pe=Object(i.a)(de,2),he=pe[0],fe=pe[1],je=Object(n.useState)(0),ye=Object(i.a)(je,2),ge=ye[0],be=ye[1],Ee=L()(),ve=Object(i.a)(Ee,2),we=ve[0],Oe=ve[1],ke=Object(n.useState)(!0),xe=Object(i.a)(ke,2),Ce=xe[0],Pe=xe[1],Ae=Object(n.useState)(0),Se=Object(i.a)(Ae,2),Te=Se[0],Be=Se[1];Object(n.useEffect)((function(){if(window.location.search){var e=new URLSearchParams(window.location.search);Le.subscribe({target:{value:e.get("sub")}})}}),[]);var Ie=function(e){try{if(X.test(e)){var t=ae(e).filter((function(e){return""!==e.raw}));return t.length<ae(e).length&&(Y(ne(t)),ce(V(ne(t)))),t.filter((function(e){return Z.includes(e.type)})).length>0?(fe(t),Pe(!1),t):e}}catch(a){console.log(a)}},Le={base64:function(e){if(Y(e.target.value),X.test(e.target.value))try{ce(V(e.target.value)),Ie(e.target.value)}catch(t){console.error(t)}},text:function(e){if(ce(e.target.value),""!==e.target.value){var t=Q(e.target.value);Y(t),console.log(t),Ie(t)!==t&&w.a.success("\u89e3\u6790\u6210\u529f")}},subscribe:function(e){var t=e.target.value;if(me(t),ee.isText(t)){if(ce(t),""===e.target.value)return;var a=Q(t);Y(a),console.log(a),Ie(a)!==a&&w.a.success("\u89e3\u6790\u6210\u529f")}else if(/^(http|https).*/.test(t)){var n="fetching";w.a.loading({content:"\u5c0e\u5165\u8a02\u95b1\u93c8\u63a5\u4e2d",key:n}),U.a.get(e.target.value).then((function(e){return e.data})).then((function(e){return Y(e),V(e)})).then((function(e){return ce(e),Q(e)})).then((function(e){return Ie(e)})).then((function(e){w.a.success({content:"\u5c0e\u5165 "+e.length+"\u500b\u7bc0\u9ede \u6210\u529f",key:n,duration:2})})).catch((function(e){console.error(e),w.a.warning({content:"\u5c0e\u5165\u5931\u6557",key:n,duration:2})}))}}},Re={base64:function(){return Le.base64({target:{value:we}})},text:function(){return Le.text({target:{value:we}})},subscribe:function(){return Le.subscribe({target:{value:we}})}},Ue={item:function(e){be(he.findIndex((function(t){return t.id===e[1]})))}},Ne=function(e){he.filter((function(t){return t.id!==e.id})).length?be((ge+1)%he.length):be(0),fe(he.filter((function(t){return t.id!==e.id}))),w.a.success("\u522a\u9664 "+e.json.ps+" \u6210\u529f"),Be(1)},ze=function(e){var t={vmess:r.a.createElement("img",{src:z.v2ray,alt:"v2Ray",className:"logo-wrap"}),trojan:r.a.createElement("img",{src:z.trojan,alt:"trojan-gfw",className:"logo-wrap"}),ss:r.a.createElement("img",{src:z.ss,alt:"Shadowsocks",className:"logo-wrap"})};return t.hasOwnProperty(e)?t[e]:r.a.createElement(S.a,null)},_e={ps:function(e){var t=he[ge].id;fe(he.map((function(a){return a.id===t?Object(l.a)({},a,{json:Object(l.a)({},a.json,{ps:e.target.value})}):a}))),Be(1)},net:function(e){var t=e.target.value;if(he[ge].json){var a=he[ge].id;"kcp"!==t?(fe(he.map((function(e){return e.id===a?Object(l.a)({},e,{json:Object(l.a)({},e.json,{net:t,type:"none"})}):e}))),Be(1)):"ws"!==t?(fe(he.map((function(e){return e.id===a?Object(l.a)({},e,{json:Object(l.a)({},e.json,{net:t,host:"",path:""})}):e}))),Be(1)):(fe(he.map((function(e){return e.id===a?Object(l.a)({},e,{json:Object(l.a)({},e.json,{net:t})}):e}))),Be(1))}},address:function(e){var t=he[ge].id;fe(he.map((function(a){return a.id===t?Object(l.a)({},a,{json:Object(l.a)({},a.json,{add:e.target.value})}):a}))),Be(1)},port:function(e){var t=he[ge].id;fe(he.map((function(a){return a.id===t?Object(l.a)({},a,{json:Object(l.a)({},a.json,{port:e.target.value})}):a}))),Be(1)},uuid:function(e){var t=he[ge].id;fe(he.map((function(a){return a.id===t?Object(l.a)({},a,{json:Object(l.a)({},a.json,{id:e.target.value})}):a}))),Be(1)},aid:function(e){var t=he[ge].id;fe(he.map((function(a){return a.id===t?Object(l.a)({},a,{json:Object(l.a)({},a.json,{aid:e.target.value})}):a}))),Be(1)},tls:function(e,t){var a=he[ge].id;fe(he.map((function(t){return t.id===a?Object(l.a)({},t,{json:Object(l.a)({},t.json,{tls:e?"tls":"none"})}):t}))),Be(1)},ws:{host:function(e){var t=he[ge].id;"ws"===he[ge].json.net&&(fe(he.map((function(a){return a.id===t?Object(l.a)({},a,{json:Object(l.a)({},a.json,{host:e.target.value})}):a}))),Be(1))},path:function(e){var t=he[ge].id;"ws"===he[ge].json.net&&(fe(he.map((function(a){return a.id===t?Object(l.a)({},a,{json:Object(l.a)({},a.json,{path:e.target.value})}):a}))),Be(1))}},type:function(e){var t=he[ge].id;"kcp"===he[ge].json.net&&(fe(he.map((function(a){return a.id===t?Object(l.a)({},a,{json:Object(l.a)({},a.json,{type:e})}):a}))),Be(1))},ssMethod:function(e){var t=he[ge].id;"ss"===he[ge].type&&(fe(he.map((function(a){return a.id===t?Object(l.a)({},a,{json:Object(l.a)({},a.json,{id:e})}):a}))),Be(1))},create:function(e){console.log(e,e.key);var t={type:e.key,json:q[e.key],raw:"",id:B.a.generate()};fe([].concat(Object(c.a)(he),[t])),be(he.length?he.length+1:0),Pe(!1),Be(1)}},Je={API:r.a.createElement(g.a,{gutter:[0,16],style:{marginBottom:-20}},r.a.createElement(b.a,{span:24},r.a.createElement(_,{rows:4,autosize:!1,placeholder:"\u8f38\u5165\u8a02\u95b1\u7db2\u5740\u6216\u670d\u52d9\u5668\u93c8\u63a5",onChange:Le.subscribe,value:ue})),r.a.createElement(b.a,{span:24},r.a.createElement(d.a,{type:"primary",block:!0,onClick:Re.subscribe},"\u5f9e\u526a\u8cbc\u7248\u5c0e\u5165"))),TEXT:r.a.createElement(g.a,{gutter:[0,16],style:{marginBottom:-20}},r.a.createElement(b.a,{span:24},r.a.createElement(_,{rows:4,autosize:!1,onChange:Le.text,value:oe})),r.a.createElement(b.a,{span:24},r.a.createElement(d.a,{type:"primary",block:!0,onClick:Re.text},"\u5f9e\u526a\u8cbc\u7248\u5c0e\u5165"))),BASE64:r.a.createElement(g.a,{gutter:[0,16],style:{marginBottom:-20}},r.a.createElement(b.a,{span:24},r.a.createElement(_,{rows:4,autosize:!1,onChange:Le.base64,value:G})),r.a.createElement(b.a,{span:24},r.a.createElement(d.a,{type:"primary",block:!0,onClick:Re.base64},"\u5f9e\u526a\u8cbc\u7248\u5c0e\u5165")))},We={select:r.a.createElement("div",{style:{display:"flex",justifyContent:"space-between"}},r.a.createElement(m.a,{showSearch:!0,value:he[ge]&&he[ge].hasOwnProperty("json")?[he[ge].json.ps,he[ge].id]:"",disabled:Ce||!G.length,style:{width:"76%"},onChange:Ue.item,filterOption:function(e,t){return t.children[2].toLowerCase().indexOf(e.toLowerCase())>=0}},he.filter((function(e){return Z.includes(e.type)})).map((function(e){return r.a.createElement(J,{key:e.id,value:[e.json.ps,e.id]},ze(e.type)," ",e.json.ps)}))),r.a.createElement(p.a,{overlay:r.a.createElement(h.a,{onClick:_e.create},Z.map((function(e){return r.a.createElement(h.a.Item,{key:e},e)})))},r.a.createElement(d.a,{type:"primary",icon:r.a.createElement(x.a,null)})),r.a.createElement(d.a,{type:"primary",disabled:Ce||!G.length,icon:r.a.createElement(C.a,null),onClick:function(){K({title:"\u78ba\u5b9a\u8981\u522a\u9664"+he[ge].json.ps+"?",icon:r.a.createElement(A.a,null),content:"\u9019\u9805\u64cd\u4f5c\u7121\u6cd5\u5fa9\u539f",okText:"\u78ba\u5b9a",cancelText:"\u53d6\u6d88",onOk:function(){Ne(he[ge])},onCancel:function(){console.log(he)}})},danger:!0})),remark:r.a.createElement(u.a,{placeholder:"\u7bc0\u9ede\u540d\u7a31 (Remark)",addonAfter:he[ge]&&he[ge].hasOwnProperty("type")?ze(he[ge].type):r.a.createElement(S.a,null),value:he[ge]&&he[ge].hasOwnProperty("json")?he[ge].json.ps:"",disabled:Ce||!G.length,onChange:_e.ps,onPressEnter:_e.ps}),serverAddress:r.a.createElement(M,{compact:!0},r.a.createElement(u.a,{style:{width:"75%",textAlign:"left"},disabled:Ce||!G.length,placeholder:"\u670d\u52d9\u5668\u5730\u5740 (Address)",onChange:_e.address,value:he[ge]&&he[ge].hasOwnProperty("json")?he[ge].json.add:""}),r.a.createElement(u.a,{style:{width:"25%"},disabled:Ce||!G.length,placeholder:"port",onChange:_e.port,value:he[ge]&&he[ge].hasOwnProperty("json")?he[ge].json.port:""})),skeleton:r.a.createElement(g.a,{type:"flex",style:{marginBottom:-12}},r.a.createElement(O.a,null))},De={vmess:r.a.createElement(g.a,{gutter:[16,24],type:"flex",style:{marginBottom:-18}},r.a.createElement(b.a,{xs:24,sm:12,md:12}," ",We.select," "),r.a.createElement(b.a,{xs:24,sm:12,md:12}," ",We.remark," "),r.a.createElement(b.a,{xs:24,sm:24,md:12}," ",We.serverAddress," "),r.a.createElement(b.a,{xs:24,sm:24,md:12},r.a.createElement(M,{compact:!0},r.a.createElement(u.a,{style:{width:"75%"},placeholder:"UUID",onChange:_e.uuid,value:he[ge]&&he[ge].hasOwnProperty("json")?he[ge].json.id:""}),r.a.createElement(u.a,{style:{width:"25%"},placeholder:"AID",onChange:_e.aid,value:he[ge]&&he[ge].hasOwnProperty("json")?he[ge].json.aid:""}))),r.a.createElement(b.a,{xs:24,sm:24,md:12},r.a.createElement(f.a.Group,{style:{marginLeft:-24},onChange:_e.net,value:he[ge]&&he[ge].json?he[ge].json.net:""},r.a.createElement(f.a,{key:"tcp",value:"tcp"},"TCP"),r.a.createElement(f.a,{key:"ws",value:"ws"},"WS"),r.a.createElement(f.a,{key:"kcp",value:"kcp"},"KCP")),r.a.createElement(j.a,{checkedChildren:"TLS",unCheckedChildren:"TLS",onChange:_e.tls,checked:!(!he[ge]||!he[ge].hasOwnProperty("json"))&&"tls"===he[ge].json.tls})),r.a.createElement(b.a,{xs:he[ge]&&he[ge].hasOwnProperty("json")&&"ws"===he[ge].json.net?24:0,sm:he[ge]&&he[ge].hasOwnProperty("json")&&"ws"===he[ge].json.net?24:0,md:he[ge]&&he[ge].hasOwnProperty("json")&&"ws"===he[ge].json.net?12:0},r.a.createElement(M,{compact:!0},r.a.createElement(u.a,{style:{width:"75%"},placeholder:"\u57df\u540d (Host)",onChange:_e.ws.host,value:he[ge]&&he[ge].hasOwnProperty("json")?he[ge].json.host:""}),r.a.createElement(u.a,{style:{width:"25%"},placeholder:"path",onChange:_e.ws.path,value:he[ge]&&he[ge].hasOwnProperty("json")?he[ge].json.path:""}))),r.a.createElement(b.a,{xs:he[ge]&&he[ge].hasOwnProperty("json")&&"kcp"===he[ge].json.net?24:0,sm:he[ge]&&he[ge].hasOwnProperty("json")&&"kcp"===he[ge].json.net?24:0,md:he[ge]&&he[ge].hasOwnProperty("json")&&"kcp"===he[ge].json.net?12:0},r.a.createElement(m.a,{style:{width:"100%"},onChange:_e.type,value:he[ge]&&he[ge].hasOwnProperty("json")?he[ge].json.type:""},r.a.createElement(J,{key:"none",value:"none"},"none (\u4e0d\u507d\u88dd)"),r.a.createElement(J,{key:"wechat-video",value:"wechat-video"}," \b\bwechat-video (\u507d\u88dd\u5fae\u4fe1\u8996\u983b) "),r.a.createElement(J,{key:"srtp",value:"srtp"},"srtp (\u507d\u88dd\u8996\u983b\u901a\u8a71)"),r.a.createElement(J,{key:"utp",value:"utp"},"utp (\u507d\u88ddBitTorrent\u4e0b\u8f09) "),r.a.createElement(J,{key:"dtls",value:"dtls"},"dlts (\u507d\u88ddDLTS 1.2\u5c01\u5305)"),r.a.createElement(J,{key:"wireguard",value:"wireguard"},"wireguard (\u507d\u88ddWireguard\u5c01\u5305)")))),ss:r.a.createElement(g.a,{gutter:[16,24],type:"flex",style:{marginBottom:-18}},r.a.createElement(b.a,{xs:24,sm:12,md:12}," ",We.select," "),r.a.createElement(b.a,{xs:24,sm:12,md:12}," ",We.remark," "),r.a.createElement(b.a,{xs:24,sm:24,md:12}," ",We.serverAddress," "),r.a.createElement(b.a,{xs:24,sm:24,md:12}),r.a.createElement(b.a,{xs:24,sm:24,md:12},r.a.createElement(m.a,{showSearch:!0,style:{width:"100%"},placeholder:"\u52a0\u5bc6\u65b9\u5f0f (Method)",onChange:_e.ssMethod,value:he[ge]&&he[ge].hasOwnProperty("json")?he[ge].json.id:"",filterOption:function(e,t){return t.children.toLowerCase().indexOf(e.toLowerCase())>=0}},H.map((function(e){return r.a.createElement(J,{key:e},e)})))),r.a.createElement(b.a,{xs:24,sm:24,md:12},r.a.createElement(u.a.Password,{placeholder:"\u5bc6\u78bc (Password)",onChange:_e.aid,value:he[ge]&&he[ge].hasOwnProperty("json")?he[ge].json.aid:""}))),trojan:r.a.createElement(g.a,{gutter:[16,24],type:"flex",style:{marginBottom:-18}},r.a.createElement(b.a,{xs:24,sm:12,md:12}," ",We.select," "),r.a.createElement(b.a,{xs:24,sm:12,md:12}," ",We.remark," "),r.a.createElement(b.a,{xs:24,sm:24,md:12}," ",We.serverAddress," "),r.a.createElement(b.a,{xs:24,sm:24,md:12},r.a.createElement(u.a.Password,{placeholder:"\u5bc6\u78bc (Password)",onChange:_e.aid,value:he[ge]&&he[ge].hasOwnProperty("json")?he[ge].json.aid:""})))},Ke={fastEdit:r.a.createElement(g.a,{gutter:[16,24],justify:"space-around",type:"flex",style:{marginBottom:-18}},r.a.createElement(b.a,{xs:24,sm:12,md:16}," ",We.select," "),r.a.createElement(b.a,{xs:24,sm:12,md:16}," ",We.remark," "),r.a.createElement(b.a,{xs:24,sm:24,md:16}," ",We.serverAddress," ")),detailedEdit:he[ge]&&Z.includes(he[ge].type)?De[he[ge].type]:We.skeleton,buttons:r.a.createElement("span",null,r.a.createElement(k.a,{count:Te,dot:!0},r.a.createElement(d.a,{type:"primary",icon:r.a.createElement(P.a,null),disabled:Ce||!G.length,onClick:function(){var e=ne(he);Y(e),ce(he.map((function(e){return te[e.type](e.json)})).join("\n")),Oe(e),w.a.success("New BASE64 copied"),Be(0)}},"\u751f\u6210")))};return r.a.createElement("div",{className:"App"},r.a.createElement(y.a,null,r.a.createElement(g.a,{justify:"start",align:"middle",style:{textAlign:"left"}},r.a.createElement("h2",null,"Shawdowrockets \u8a02\u95b1\u93c8\u63a5\u7de8\u8f2f\u5668"),r.a.createElement(b.a,{xs:0,sm:0,md:8,style:{marginLeft:8}},r.a.createElement("h3",null,"\u652f\u6301 ",Z.map((function(e,t){return t<Z.length-1?e+", ":e}))," \u93c8\u63a5\u7de8\u8f2f"))),r.a.createElement(W,null,r.a.createElement(g.a,{gutter:[16,16],justify:"space-between",type:"flex"},r.a.createElement(b.a,{xs:24,sm:24,md:12},r.a.createElement(E.a,{className:"card",tabList:F,tabBarExtraContent:Ke.buttons,activeTabKey:T,onTabChange:function(e){return I(e)}},Ke[T])),r.a.createElement(b.a,{xs:24,sm:24,md:12},r.a.createElement(E.a,{className:"card",tabList:$,activeTabKey:a,onTabChange:function(e){return s(e)}},Je[a])))),r.a.createElement(D,null,r.a.createElement(g.a,{justify:"center"},r.a.createElement(b.a,{span:24},"Created by ",r.a.createElement("a",{href:"https://www.phlinhng.com"},"phlinhng"),". All rights reserved.")))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(re,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[138,1,2]]]);
//# sourceMappingURL=main.e64ee277.chunk.js.map